<!--
 CONFIDENTIAL
 Copyright 2016 Red Hat, Inc. and/or its affiliates.
 This is unpublished proprietary source code of Red Hat.
-->

<md-subheader>{{ctrl.form.props.name}}</md-subheader>

<md-list class="appform-view">

  <md-list-item ng-if="! ctrl.fields" class="loading">
    Loading appForm submission...
  </md-list-item>

  <div ng-repeat="field in ctrl.fields">
    <ng-switch on="field.props.type">
      <div ng-switch-when="signature">
        <md-list-item class="md-2-line with-image">
          <md-icon md-font-set="material-icons">gesture</md-icon>
          <div class="md-list-item-text">
            <h3>
              <signature ng-if="field.value.localURI" value="field.value.localURI" alt="Signature"></signature>
              <signature ng-if="!field.value.localURI" value="field.value.imgHeader + field.value.data" alt="Signature"></signature>
            </h3>
            <p>{{field.props.name}}</p>
          </div>
          <md-divider></md-divider>
        </md-list-item>
      </div>

      <div ng-switch-when="location">
        <md-list-item class="md-3-line">
          <md-icon md-font-set="material-icons">place</md-icon>
          <div class="md-list-item-text">
            <h3>{{field.value.lat}}N, {{field.value.long}}W</h3>
            <p>{{field.props.name}}</p>
          </div>
        </md-list-item>
      </div>

      <div ng-switch-when="number">
        <md-list-item class="md-2-line">
          <md-icon md-font-set="material-icons">filter_4</md-icon>
          <div class="md-list-item-text">
            <h3>{{field.value}}</h3>
            <p>{{field.props.name}}</p>
          </div>
          <md-divider></md-divider>
        </md-list-item>
      </div>

      <div ng-switch-default>
        <md-list-item class="md-2-line">
          <md-icon md-font-set="material-icons">text_format</md-icon>
          <div class="md-list-item-text">
            <h3>{{field.value}}</h3>
            <p>{{field.props.name}}</p>
          </div>
          <md-divider></md-divider>
        </md-list-item>
      </div>
    </ng-switch>
  </div>
</md-list>
