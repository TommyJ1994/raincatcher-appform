<ng-form name="fieldForm" ng-submit="ctrl.submit()">
  <div ng-switch="ctrl.field.props.type" style="display: flex; flex-grow: 1;">
    <div ng-switch-when="number">
      <appform-portal-field-number value="ctrl.model" field="ctrl.field" form="fieldForm"></appform-portal-field-number>
    </div>
    <div ng-switch-when="location">
      <appform-mobile-field-location value="ctrl.model" field="ctrl.field" form="fieldForm"></appform-mobile-field-location>
    </div>
    <div ng-switch-when="signature" style="display: flex; flex-grow: 1;">
      <md-input-container>
        <label>{{ctrl.field.props.name}}</label>
        <appform-mobile-field-signature style="display: flex; flex-grow: 1;"></appform-mobile-field-signature>
      </md-input-container>
    </div>
    <div ng-switch-default>
      <md-input-container>
        <label>{{ctrl.field.props.name}}</label>
        <input
          type="text"
          placeholder="{{ctrl.field.props.helpText}}"
          name="inputName"
          ng-model="ctrl.model"
          ng-required="ctrl.field.props.required"
        ></input>
        <div ng-messages="fieldForm.inputName.$error" ng-show="ctrl.submitted || fieldForm.inputName.$dirty">
          <div ng-message="required">A {{ctrl.field.props.name}} is required.</div>
        </div>
      </md-input-container>
    </div>
  </div>
</ng-form>
